---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.16.2
  name: instances.ec2.services.k8s.aws
spec:
  group: ec2.services.k8s.aws
  names:
    kind: Instance
    listKind: InstanceList
    plural: instances
    singular: instance
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.instanceID
      name: ID
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: Instance is the Schema for the Instances API
        properties:
          apiVersion:
            description: |-
              APIVersion defines the versioned schema of this representation of an object.
              Servers should convert recognized schemas to the latest internal value, and
              may reject unrecognized values.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources
            type: string
          kind:
            description: |-
              Kind is a string value representing the REST resource this object represents.
              Servers may infer this from the endpoint the client submits requests to.
              Cannot be updated.
              In CamelCase.
              More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds
            type: string
          metadata:
            type: object
          spec:
            description: |-
              InstanceSpec defines the desired state of Instance.

              Describes an instance.
            properties:
              blockDeviceMappings:
                items:
                  description: |-
                    Describes a block device mapping, which defines the EBS volumes and instance
                    store volumes to attach to an instance at launch.
                  properties:
                    deviceName:
                      type: string
                    ebs:
                      description: Describes a block device for an EBS volume.
                      properties:
                        deleteOnTermination:
                          type: boolean
                        encrypted:
                          type: boolean
                        iops:
                          format: int64
                          type: integer
                        kmsKeyID:
                          type: string
                        outpostARN:
                          type: string
                        snapshotID:
                          type: string
                        throughput:
                          format: int64
                          type: integer
                        volumeSize:
                          format: int64
                          type: integer
                        volumeType:
                          type: string
                      type: object
                    noDevice:
                      type: string
                    virtualName:
                      type: string
                  type: object
                type: array
              capacityReservationSpecification:
                description: |-
                  Describes an instance's Capacity Reservation targeting option.

                  Use the CapacityReservationPreference parameter to configure the instance
                  to run as an On-Demand Instance, to run in any open Capacity Reservation
                  that has matching attributes, or to run only in a Capacity Reservation or
                  Capacity Reservation group. Use the CapacityReservationTarget parameter to
                  explicitly target a specific Capacity Reservation or a Capacity Reservation
                  group.

                  You can only specify CapacityReservationPreference and CapacityReservationTarget
                  if the CapacityReservationPreference is capacity-reservations-only.
                properties:
                  capacityReservationPreference:
                    type: string
                  capacityReservationTarget:
                    description: Describes a target Capacity Reservation or Capacity
                      Reservation group.
                    properties:
                      capacityReservationID:
                        type: string
                      capacityReservationResourceGroupARN:
                        type: string
                    type: object
                type: object
              cpuOptions:
                description: |-
                  The CPU options for the instance. Both the core count and threads per core
                  must be specified in the request.
                properties:
                  coreCount:
                    format: int64
                    type: integer
                  threadsPerCore:
                    format: int64
                    type: integer
                type: object
              creditSpecification:
                description: The credit option for CPU usage of a T instance.
                properties:
                  cpuCredits:
                    type: string
                type: object
              disableAPIStop:
                type: boolean
              disableAPITermination:
                type: boolean
              ebsOptimized:
                type: boolean
              elasticGPUSpecification:
                items:
                  description: |-
                    Amazon Elastic Graphics reached end of life on January 8, 2024.

                    A specification for an Elastic Graphics accelerator.
                  properties:
                    type_:
                      type: string
                  type: object
                type: array
              elasticInferenceAccelerators:
                items:
                  description: |-
                    Amazon Elastic Inference is no longer available.

                    Describes an elastic inference accelerator.
                  properties:
                    count:
                      format: int64
                      type: integer
                    type_:
                      type: string
                  type: object
                type: array
              enclaveOptions:
                description: |-
                  Indicates whether the instance is enabled for Amazon Web Services Nitro Enclaves.
                  For more information, see What is Amazon Web Services Nitro Enclaves? (https://docs.aws.amazon.com/enclaves/latest/user/nitro-enclave.html)
                  in the Amazon Web Services Nitro Enclaves User Guide.
                properties:
                  enabled:
                    type: boolean
                type: object
              hibernationOptions:
                description: |-
                  Indicates whether your instance is configured for hibernation. This parameter
                  is valid only if the instance meets the hibernation prerequisites (https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/hibernating-prerequisites.html).
                  For more information, see Hibernate your Amazon EC2 instance (https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Hibernate.html)
                  in the Amazon EC2 User Guide.
                properties:
                  configured:
                    type: boolean
                type: object
              iamInstanceProfile:
                description: Describes an IAM instance profile.
                properties:
                  arn:
                    type: string
                  name:
                    type: string
                type: object
              imageID:
                type: string
              instanceInitiatedShutdownBehavior:
                type: string
              instanceMarketOptions:
                description: Describes the market (purchasing) option for the instances.
                properties:
                  marketType:
                    type: string
                  spotOptions:
                    description: The options for Spot Instances.
                    properties:
                      blockDurationMinutes:
                        format: int64
                        type: integer
                      instanceInterruptionBehavior:
                        type: string
                      maxPrice:
                        type: string
                      spotInstanceType:
                        type: string
                      validUntil:
                        format: date-time
                        type: string
                    type: object
                type: object
              instanceType:
                type: string
              ipv6AddressCount:
                format: int64
                type: integer
              ipv6Addresses:
                items:
                  description: Describes an IPv6 address.
                  properties:
                    ipv6Address:
                      type: string
                  type: object
                type: array
              kernelID:
                type: string
              keyName:
                type: string
              launchTemplate:
                description: Describes the launch template to use.
                properties:
                  launchTemplateID:
                    type: string
                  launchTemplateName:
                    type: string
                  version:
                    type: string
                type: object
              licenseSpecifications:
                items:
                  description: Describes a license configuration.
                  properties:
                    licenseConfigurationARN:
                      type: string
                  type: object
                type: array
              maintenanceOptions:
                description: The maintenance options for the instance.
                properties:
                  autoRecovery:
                    type: string
                type: object
              maxCount:
                format: int64
                type: integer
              metadataOptions:
                description: The metadata options for the instance.
                properties:
                  httpEndpoint:
                    type: string
                  httpProtocolIPv6:
                    type: string
                  httpPutResponseHopLimit:
                    format: int64
                    type: integer
                  httpTokens:
                    type: string
                  instanceMetadataTags:
                    type: string
                type: object
              minCount:
                format: int64
                type: integer
              monitoring:
                description: Describes the monitoring of an instance.
                properties:
                  enabled:
                    type: boolean
                type: object
              networkInterfaces:
                items:
                  description: Describes a network interface.
                  properties:
                    associateCarrierIPAddress:
                      type: boolean
                    associatePublicIPAddress:
                      type: boolean
                    deleteOnTermination:
                      type: boolean
                    description:
                      type: string
                    deviceIndex:
                      format: int64
                      type: integer
                    interfaceType:
                      type: string
                    ipv4PrefixCount:
                      format: int64
                      type: integer
                    ipv4Prefixes:
                      items:
                        description: Describes the IPv4 prefix option for a network
                          interface.
                        properties:
                          ipv4Prefix:
                            type: string
                        type: object
                      type: array
                    ipv6AddressCount:
                      format: int64
                      type: integer
                    ipv6Addresses:
                      items:
                        description: Describes an IPv6 address.
                        properties:
                          ipv6Address:
                            type: string
                        type: object
                      type: array
                    ipv6PrefixCount:
                      format: int64
                      type: integer
                    ipv6Prefixes:
                      items:
                        description: Describes the IPv4 prefix option for a network
                          interface.
                        properties:
                          ipv6Prefix:
                            type: string
                        type: object
                      type: array
                    networkCardIndex:
                      format: int64
                      type: integer
                    networkInterfaceID:
                      type: string
                    privateIPAddress:
                      type: string
                    privateIPAddresses:
                      items:
                        description: Describes a secondary private IPv4 address for
                          a network interface.
                        properties:
                          primary:
                            type: boolean
                          privateIPAddress:
                            type: string
                        type: object
                      type: array
                    secondaryPrivateIPAddressCount:
                      format: int64
                      type: integer
                    subnetID:
                      type: string
                  type: object
                type: array
              placement:
                description: Describes the placement of an instance.
                properties:
                  affinity:
                    type: string
                  availabilityZone:
                    type: string
                  groupName:
                    type: string
                  hostID:
                    type: string
                  hostResourceGroupARN:
                    type: string
                  partitionNumber:
                    format: int64
                    type: integer
                  spreadDomain:
                    type: string
                  tenancy:
                    type: string
                type: object
              privateDNSNameOptions:
                description: Describes the options for instance hostnames.
                properties:
                  enableResourceNameDNSAAAARecord:
                    type: boolean
                  enableResourceNameDNSARecord:
                    type: boolean
                  hostnameType:
                    type: string
                type: object
              privateIPAddress:
                type: string
              ramDiskID:
                type: string
              securityGroupIDs:
                items:
                  type: string
                type: array
              securityGroups:
                items:
                  type: string
                type: array
              subnetID:
                type: string
              tags:
                items:
                  description: Describes a tag.
                  properties:
                    key:
                      type: string
                    value:
                      type: string
                  type: object
                type: array
              userData:
                type: string
            type: object
          status:
            description: InstanceStatus defines the observed state of Instance
            properties:
              ackResourceMetadata:
                description: |-
                  All CRs managed by ACK have a common `Status.ACKResourceMetadata` member
                  that is used to contain resource sync state, account ownership,
                  constructed ARN for the resource
                properties:
                  arn:
                    description: |-
                      ARN is the Amazon Resource Name for the resource. This is a
                      globally-unique identifier and is set only by the ACK service controller
                      once the controller has orchestrated the creation of the resource OR
                      when it has verified that an "adopted" resource (a resource where the
                      ARN annotation was set by the Kubernetes user on the CR) exists and
                      matches the supplied CR's Spec field values.
                      https://github.com/aws/aws-controllers-k8s/issues/270
                    type: string
                  ownerAccountID:
                    description: |-
                      OwnerAccountID is the AWS Account ID of the account that owns the
                      backend AWS service API resource.
                    type: string
                  region:
                    description: Region is the AWS region in which the resource exists
                      or will exist.
                    type: string
                required:
                - ownerAccountID
                - region
                type: object
              amiLaunchIndex:
                description: |-
                  The AMI launch index, which can be used to find this instance in the launch
                  group.
                format: int64
                type: integer
              architecture:
                description: The architecture of the image.
                type: string
              bootMode:
                description: |-
                  The boot mode that was specified by the AMI. If the value is uefi-preferred,
                  the AMI supports both UEFI and Legacy BIOS. The currentInstanceBootMode parameter
                  is the boot mode that is used to boot the instance at launch or start.

                  The operating system contained in the AMI must be configured to support the
                  specified boot mode.

                  For more information, see Boot modes (https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ami-boot.html)
                  in the Amazon EC2 User Guide.
                type: string
              capacityReservationID:
                description: The ID of the Capacity Reservation.
                type: string
              conditions:
                description: |-
                  All CRs managed by ACK have a common `Status.Conditions` member that
                  contains a collection of `ackv1alpha1.Condition` objects that describe
                  the various terminal states of the CR and its backend AWS service API
                  resource
                items:
                  description: |-
                    Condition is the common struct used by all CRDs managed by ACK service
                    controllers to indicate terminal states  of the CR and its backend AWS
                    service API resource
                  properties:
                    lastTransitionTime:
                      description: Last time the condition transitioned from one status
                        to another.
                      format: date-time
                      type: string
                    message:
                      description: A human readable message indicating details about
                        the transition.
                      type: string
                    reason:
                      description: The reason for the condition's last transition.
                      type: string
                    status:
                      description: Status of the condition, one of True, False, Unknown.
                      type: string
                    type:
                      description: Type is the type of the Condition
                      type: string
                  required:
                  - status
                  - type
                  type: object
                type: array
              elasticGPUAssociations:
                description: |-
                  Deprecated.

                  Amazon Elastic Graphics reached end of life on January 8, 2024.
                items:
                  description: |-
                    Amazon Elastic Graphics reached end of life on January 8, 2024.

                    Describes the association between an instance and an Elastic Graphics accelerator.
                  properties:
                    elasticGPUAssociationID:
                      type: string
                    elasticGPUAssociationState:
                      type: string
                    elasticGPUAssociationTime:
                      type: string
                    elasticGPUID:
                      type: string
                  type: object
                type: array
              elasticInferenceAcceleratorAssociations:
                description: |-
                  Deprecated

                  Amazon Elastic Inference is no longer available.
                items:
                  description: |-
                    Amazon Elastic Inference is no longer available.

                    Describes the association between an instance and an elastic inference accelerator.
                  properties:
                    elasticInferenceAcceleratorARN:
                      type: string
                    elasticInferenceAcceleratorAssociationID:
                      type: string
                    elasticInferenceAcceleratorAssociationState:
                      type: string
                    elasticInferenceAcceleratorAssociationTime:
                      format: date-time
                      type: string
                  type: object
                type: array
              enaSupport:
                description: Specifies whether enhanced networking with ENA is enabled.
                type: boolean
              hypervisor:
                description: |-
                  The hypervisor type of the instance. The value xen is used for both Xen and
                  Nitro hypervisors.
                type: string
              instanceID:
                description: The ID of the instance.
                type: string
              instanceLifecycle:
                description: Indicates whether this is a Spot Instance or a Scheduled
                  Instance.
                type: string
              ipv6Address:
                description: The IPv6 address assigned to the instance.
                type: string
              launchTime:
                description: |-
                  The time that the instance was last launched. To determine the time that
                  instance was first launched, see the attachment time for the primary network
                  interface.
                format: date-time
                type: string
              licenses:
                description: The license configurations for the instance.
                items:
                  description: Describes a license configuration.
                  properties:
                    licenseConfigurationARN:
                      type: string
                  type: object
                type: array
              outpostARN:
                description: The Amazon Resource Name (ARN) of the Outpost.
                type: string
              platform:
                description: |-
                  The platform. This value is windows for Windows instances; otherwise, it
                  is empty.
                type: string
              platformDetails:
                description: |-
                  The platform details value for the instance. For more information, see AMI
                  billing information fields (https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/billing-info-fields.html)
                  in the Amazon EC2 User Guide.
                type: string
              privateDNSName:
                description: |-
                  [IPv4 only] The private DNS hostname name assigned to the instance. This
                  DNS hostname can only be used inside the Amazon EC2 network. This name is
                  not available until the instance enters the running state.

                  The Amazon-provided DNS server resolves Amazon-provided private DNS hostnames
                  if you've enabled DNS resolution and DNS hostnames in your VPC. If you are
                  not using the Amazon-provided DNS server in your VPC, your custom domain
                  name servers must resolve the hostname as appropriate.
                type: string
              productCodes:
                description: The product codes attached to this instance, if applicable.
                items:
                  description: Describes a product code.
                  properties:
                    productCodeID:
                      type: string
                    productCodeType:
                      type: string
                  type: object
                type: array
              publicDNSName:
                description: |-
                  [IPv4 only] The public DNS name assigned to the instance. This name is not
                  available until the instance enters the running state. This name is only
                  available if you've enabled DNS hostnames for your VPC.
                type: string
              publicIPAddress:
                description: |-
                  The public IPv4 address, or the Carrier IP address assigned to the instance,
                  if applicable.

                  A Carrier IP address only applies to an instance launched in a subnet associated
                  with a Wavelength Zone.
                type: string
              rootDeviceName:
                description: The device name of the root device volume (for example,
                  /dev/sda1).
                type: string
              rootDeviceType:
                description: |-
                  The root device type used by the AMI. The AMI can use an EBS volume or an
                  instance store volume.
                type: string
              sourceDestCheck:
                description: Indicates whether source/destination checking is enabled.
                type: boolean
              spotInstanceRequestID:
                description: If the request is a Spot Instance request, the ID of
                  the request.
                type: string
              sriovNetSupport:
                description: |-
                  Specifies whether enhanced networking with the Intel 82599 Virtual Function
                  interface is enabled.
                type: string
              state:
                description: The current state of the instance.
                properties:
                  code:
                    format: int64
                    type: integer
                  name:
                    type: string
                type: object
              stateReason:
                description: The reason for the most recent state transition.
                properties:
                  code:
                    type: string
                  message:
                    type: string
                type: object
              stateTransitionReason:
                description: The reason for the most recent state transition. This
                  might be an empty string.
                type: string
              tpmSupport:
                description: |-
                  If the instance is configured for NitroTPM support, the value is v2.0. For
                  more information, see NitroTPM (https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/nitrotpm.html)
                  in the Amazon EC2 User Guide.
                type: string
              usageOperation:
                description: |-
                  The usage operation value for the instance. For more information, see AMI
                  billing information fields (https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/billing-info-fields.html)
                  in the Amazon EC2 User Guide.
                type: string
              usageOperationUpdateTime:
                description: The time that the usage operation was last updated.
                format: date-time
                type: string
              virtualizationType:
                description: The virtualization type of the instance.
                type: string
              vpcID:
                description: The ID of the VPC in which the instance is running.
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
