ignore:
  shape_names:
    - ConnectionTrackingSpecificationRequest
    - EnaSrdSpecificationRequest
    - OperatorRequest
  operations:
    - ModifyTransitGateway
    - ModifyVpcEndpoint
  field_paths:
    - AllocateAddressInput.DryRun
    - AllocateAddressInput.TagSpecifications
    - CreateCapacityReservationInput.TagSpecifications
    - CreateCapacityReservationInput.DryRun
    - CreateCapacityReservationInput.ClientToken
    - CreateDhcpOptionsInput.DryRun
    - CreateDhcpOptionsInput.TagSpecifications
    - CreateFlowLogsInput.DryRun
    - CreateFlowLogsInput.DeliverCrossAccountRole
    - CreateFlowLogsInput.ClientToken
    - CreateFlowLogsInput.TagSpecifications
    - CreateFlowLogsInput.ResourceIds
    - CreateFlowLogsOutput.FlowLogIds
    - CreateInternetGatewayInput.DryRun
    - CreateInternetGatewayInput.TagSpecifications
    - CreateNatGatewayInput.ClientToken
    - CreateNatGatewayInput.PrivateIpAddress
    - CreateNatGatewayInput.SecondaryAllocationIds
    - CreateNatGatewayInput.SecondaryPrivateIpAddressCount
    - CreateNatGatewayInput.SecondaryPrivateIpAddresses
    - CreateNatGatewayInput.DryRun
    - CreateNatGatewayInput.TagSpecifications
    - CreateNetworkAclInput.DryRun
    - CreateNetworkAclInput.ClientToken
    - CreateNetworkAclInput.TagSpecifications
    - CreateRouteInput.DryRun
    - CreateRouteInput.RouteTableId
    - CreateRouteTableInput.DryRun
    - CreateRouteTableInput.ClientToken
    - CreateRouteTableInput.TagSpecifications
    - CreateSecurityGroupInput.DryRun
    - CreateSecurityGroupInput.TagSpecifications
    - CreateSubnetInput.DryRun
    - CreateSubnetInput.Ipv4IpamPoolId
    - CreateSubnetInput.Ipv4NetmaskLength
    - CreateSubnetInput.Ipv6IpamPoolId
    - CreateSubnetInput.Ipv6NetmaskLength
    - CreateSubnetInput.TagSpecifications
    - CreateSubnetOutput.Subnet.BlockPublicAccessStates
    - CreateTransitGatewayVpcAttachmentInput.DryRun
    - CreateTransitGatewayVpcAttachmentInput.TagSpecifications
    - CreateTransitGatewayInput.DryRun
    - CreateTransitGatewayInput.Options.SecurityGroupReferencingSupport
    - CreateTransitGatewayInput.TagSpecifications
    - CreateVpcInput.CidrBlock
    - CreateVpcOutput.Vpc.CidrBlock
    - CreateVpcOutput.Vpc.BlockPublicAccessStates
    - CreateVpcInput.DryRun
    - CreateVpcInput.TagSpecifications
    - CreateVpcEndpointInput.DryRun
    - CreateVpcEndpointInput.TagSpecifications
    - CreateVpcEndpointInput.ClientToken
    - CreateVpcEndpointInput.DnsOptions.PrivateDnsOnlyForInboundResolverEndpoint
    - CreateVpcEndpointInput.ResourceConfigurationArn
    - CreateVpcEndpointInput.SubnetConfigurations
    - CreateVpcEndpointOutput.VpcEndpoint.FailureReason
    - CreateVpcEndpointOutput.VpcEndpoint.Ipv4Prefixes
    - CreateVpcEndpointOutput.VpcEndpoint.Ipv6Prefixes
    - CreateVpcEndpointOutput.VpcEndpoint.ResourceConfigurationArn
    - CreateVpcEndpointServiceConfigurationInput.ClientToken
    - CreateVpcEndpointServiceConfigurationInput.DryRun
    - CreateVpcEndpointServiceConfigurationInput.TagSpecifications
    - CreateVpcEndpointServiceConfigurationInput.SupportedRegions
    - CreateVpcEndpointServiceConfigurationOutput.ServiceConfiguration.SupportedRegions
    - CreateVpcEndpointServiceConfigurationOutput.ServiceConfiguration.RemoteAccessEnabled
    - CreateVpcEndpointServiceConfigurationOutput.ServiceConfiguration.RemoteAccessEnabled
    - CreateVpcPeeringConnectionInput.DryRun
    - CreateVpcPeeringConnectionInput.TagSpecifications
    - DeleteRouteInput.DryRun
    - DeleteRouteInput.RouteTableId
    # support EC2-VPC only
    - DeleteSecurityGroupInput.GroupName
    # support EC2-VPC only
    - AllocateAddressInput.Domain
    - AllocateAddressInput.IpamPoolId
    - AllocateAddressOutput.Domain
    - Instance.ClientToken
    - InstanceNetworkInterfaceSpecification.Groups
    - RunInstancesInput.AdditionalInfo
    - RunInstancesInput.Placement.GroupId
    - Instance.CurrentInstanceBootMode
    - Instance.Operator
    - RunInstancesInput.ClientToken
    - RunInstancesInput.DryRun
    - RunInstancesInput.TagSpecifications
    - RunInstancesInput.EnablePrimaryIpv6
    - RunInstancesInput.CpuOptions.AmdSevSnp
    - SecurityGroupRule.GroupId
    - SecurityGroupRule.SecurityGroupRuleArn
    - SecurityGroupRule.GroupOwnerId
    - SecurityGroupRule.ReferencedGroupInfo
    - TerminateInstancesInput.DryRun
    - InstanceIpv6Address.IsPrimaryIpv6
    - InstanceNetworkInterfaceSpecification.PrimaryIpv6
    - NatGatewayAddress.AssociationId
    - NatGatewayAddress.FailureMessage
    - NatGatewayAddress.IsPrimary
    - NatGatewayAddress.Status
    - SubnetIpv6CidrBlockAssociation.IpSource
    - SubnetIpv6CidrBlockAssociation.Ipv6AddressAttribute
    - VpcIpv6CidrBlockAssociation.IpSource
    - VpcIpv6CidrBlockAssociation.Ipv6AddressAttribute
    - CreateLaunchTemplateInput.DryRun
    - CreateLaunchTemplateInput.ClientToken
    - CreateLaunchTemplateInput.TagSpecifications
    - CreateLaunchTemplateVersionInput.LaunchTemplateData.TagSpecifications
    - CreateManagedPrefixListInput.ClientToken
    - CreateManagedPrefixListInput.TagSpecifications
    - CreateManagedPrefixListInput.DryRun
    - CreateLaunchTemplateVersionOutput.LaunchTemplateVersion.DefaultVersion
    - CreateFleetInput.ClientToken
    - CreateFleetInput.TagSpecifications
    - CreateFleetInput.DryRun
  resource_names:
    - CapacityReservationBySplitting
    - IpamExternalResourceVerificationToken
    - VpcBlockPublicAccessExclusion
    - AccountAttribute
    # - CapacityReservation
    - CapacityReservationFleet
    - CarrierGateway
    - ClientVpnEndpoint
    - ClientVpnRoute
    - CoipCidr
    - CoipPool
    - CustomerGateway
    - DefaultSubnet
    - DefaultVpc
    #- DhcpOptions
    - EgressOnlyInternetGateway
    # - Fleet
    - FpgaImage
    - Image
    #- Instance
    - InstanceConnectEndpoint
    - InstanceEventWindow
    - InstanceExportTask
    #- InternetGateway
    - Ipam
    - IpamPool
    - IpamResourceDiscovery
    - IpamScope
    - KeyPair
    - LaunchTemplateVersion
    # - LaunchTemplate
    - LocalGatewayRouteTable
    - LocalGatewayRouteTableVpcAssociation
    - LocalGatewayRouteTableVirtualInterfaceGroupAssociation
    - LocalGatewayRoute
    #- ManagedPrefixList
    #- NatGateway
    - NetworkAclEntry
    #- NetworkAcl
    - NetworkInsightsAccessScope
    - NetworkInsightsPath
    - NetworkInterfacePermission
    - NetworkInterface
    - PlacementGroup
    - PublicIpv4Pool
    - ReplaceRootVolumeTask
    - ReservedInstancesListing
    - RestoreImageTask
    #- RouteTable
    - Route
    #- SecurityGroup
    - Snapshot
    - SpotDatafeedSubscription
    - StoreImageTask
    #- Subnet
    - SubnetCidrReservation
    - TrafficMirrorFilterRule
    - TrafficMirrorFilter
    - TrafficMirrorSession
    - TrafficMirrorTarget
    - TransitGatewayConnectPeer
    - TransitGatewayConnect
    - TransitGatewayMulticastDomain
    - TransitGatewayPeeringAttachment
    - TransitGatewayPolicyTable
    - TransitGatewayPrefixListReference
    - TransitGatewayRouteTable
    - TransitGatewayRoute
    - TransitGatewayRouteTableAnnouncement
    # - TransitGatewayVpcAttachment
    #- TransitGateway
    - VerifiedAccessEndpoint
    - VerifiedAccessGroup
    - VerifiedAccessInstance
    - VerifiedAccessTrustProvider
    - Volume
    - VpcEndpointConnectionNotification
    #- VpcEndpointServiceConfiguration
    #- VpcEndpoint
    #- Vpc
    - VpcCidrBlock
    #- VpcPeeringConnection
    - VpnConnectionRoute
    - VpnConnection
    - VpnGateway    

operations:
  AllocateAddress:
    operation_type: 
    - Create
    resource_name: ElasticIPAddress
  CancelCapacityReservation:
    operation_type:
    - Delete 
    resource_name: CapacityReservation
  DescribeAddresses:
    operation_type:
    - List
    resource_name: ElasticIPAddress
  ReleaseAddress:
    operation_type:
    - Delete
    resource_name: ElasticIPAddress
  CreateLaunchTemplate:
    operation_type:
      - Create
    output_wrapper_field_path: LaunchTemplate
    resource_name: LaunchTemplate
  CreateLaunchTemplateVersion:
    operation_type:
      - Update
    output_wrapper_field_path: LaunchTemplateVersion
    resource_name: LaunchTemplate
  DescribeLaunchTemplates:
    custom_check_required_fields_missing_method: checkForMissingRequiredFields
  DescribeManagedPrefixLists:
    custom_check_required_fields_missing_method: checkForMissingRequiredFields
  CreateNatGateway:
    output_wrapper_field_path: NatGateway
  CreateNetworkAcl:
    output_wrapper_field_path: NetworkAcl
  CreateVpcEndpoint:
    output_wrapper_field_path: VpcEndpoint
  CreateRouteTable:
    output_wrapper_field_path: RouteTable
    operation_type:
      - Create
  DeleteVpcEndpoints:
    operation_type:
      - Delete
    resource_name: VpcEndpoint
  CreateVpcEndpointServiceConfiguration:
    output_wrapper_field_path: ServiceConfiguration
  DescribeVpcEndpointServiceConfigurations:
    custom_check_required_fields_missing_method: checkForMissingRequiredFields
  DeleteVpcEndpointServiceConfigurations:
    operation_type:
      - Delete
    resource_name: VpcEndpointServiceConfiguration
  CreateFlowLogs:
    operation_type:
    - Create
    resource_name: FlowLog
  DeleteFlowLogs:
    operation_type:
    - Delete 
    resource_name: FlowLog
  DeleteFleets:
    operation_type:
    - Delete 
    resource_name: Fleet
  RunInstances:
    #ouput shape: Reservation
    output_wrapper_field_path: Instances
    operation_type:
      - Create
    resource_name: Instance
    override_values:
      # Hard-code MaxCount and MinCount to 1 so the Reservation 
      # response can only contain a single instance. This
      # instance will be managed by the Instance controller.
      # Although RunInstances can handle creating multiple 
      # instances at once (returning them in a single Reservation),
      # a Reservation controller does not align with the declarative state model 
      # in Kubernetes because users would not be able to update the underlying instances.
      MaxCount: aws.Int32(1)
      MinCount: aws.Int32(1)
  DescribeInstances:
    #output shape: DescribeInstancesOutput
    output_wrapper_field_path: Reservations.Instances
    operation_type:
      - List
    resource_name: Instance
  TerminateInstances:
    operation_type:
      - Delete
    resource_name: Instance
  ModifyVpcPeeringConnectionOptions:
    operation_type:
      - Update
    resource_name: VpcPeeringConnection
  DescribeTransitGatewayVpcAttachments:
    custom_check_required_fields_missing_method: checkForMissingRequiredFields
resources:
  CapacityReservation:
    fields:
      Tags:
        from:
          operation: CreateTags
          path: Tags
      AdditionalInfo:
        from:
          operation: ModifyCapacityReservation
          path: AdditionalInfo
      CapacityReservationID:
        print:
          name: ID
      State:
        print:
          name: STATE
      StartDate:
        print:
          name: START_DATE
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/capacity_reservation/sdk_create_post_build_request.go.tpl
      sdk_update_pre_build_request:
        template_path: hooks/capacity_reservation/sdk_update_pre_build_request.go.tpl
      sdk_update_post_build_request:
        template_path: hooks/capacity_reservation/sdk_update_post_build_request.go.tpl
      sdk_update_post_set_output:
        template_path: hooks/capacity_reservation/sdk_update_post_set_output.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/capacity_reservation/sdk_read_many_post_set_output.go.tpl
  DhcpOptions:
    exceptions:
      terminal_codes:
      - InvalidParameterValue
    fields:
      DHCPConfigurations.Values:
        set:
          - from: AttributeValue.Value
      DhcpOptionsID:
        print:
          path: Status.dhcpOptionsID
          name: ID
      VPC:
        # from:
        #   operation: AssociateDhcpOptions
        #   path: VpcId
        custom_field:
          list_of: String
        references:
          resource: VPC
          path: Status.VPCID
      Tags:
        from:
          operation: CreateTags
          path: Tags
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/dhcp_options/sdk_create_post_build_request.go.tpl
      sdk_create_post_set_output:
        template_path: hooks/dhcp_options/sdk_create_post_set_output.go.tpl
      sdk_delete_pre_build_request:
        template_path: hooks/dhcp_options/sdk_delete_pre_build_request.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/dhcp_options/sdk_read_many_post_set_output.go.tpl
      sdk_file_end:
        template_path: hooks/dhcp_options/sdk_file_end.go.tpl
    update_operation:
      custom_method_name: customUpdateDHCPOptions
  Instance:
    exceptions:
      errors:
        404:
          code: InvalidInstanceID.NotFound
    fields:
      HibernationOptions:
        late_initialize: {}
      InstanceID:
        print:
          path: Status.instanceID
          name: ID
      MaxCount:
        is_required: false
      MinCount:
        is_required: false
      SecurityGroups:
        set:
          - from: GroupName
      LaunchTemplate.LaunchTemplateID:
        references:
          resource: LaunchTemplate
          path: Status.ID
      SubnetID:
        references:
          resource: Subnet
          path: Status.SubnetID
      Tags:
        from:
          operation: CreateTags
          path: Tags
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/instance/sdk_create_post_build_request.go.tpl
      sdk_create_post_set_output:
        template_path: hooks/instance/sdk_create_post_set_output.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/instance/sdk_read_many_post_set_output.go.tpl
      sdk_delete_post_build_request:
        template_path: hooks/instance/sdk_delete_post_build_request.go.tpl
      sdk_file_end:
        template_path: hooks/instance/sdk_file_end.go.tpl
    update_operation:
      custom_method_name: customUpdateInstance
  ElasticIPAddress:
    exceptions:
      terminal_codes:
      - InvalidParameterCombination
      - InvalidParameterValue
    fields:
      AllocationId:
        is_primary_key: true
        print:
          name: ALLOCATION-ID
      PublicIp:
        print:
          name: PUBLIC-IP
      Tags:
        from:
          operation: CreateTags
          path: Tags
    list_operation:
      match_fields:
      - AllocationId
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/elastic_ip_address/sdk_create_post_build_request.go.tpl
      sdk_delete_post_build_request:
        template_path: hooks/elastic_ip_address/sdk_delete_post_build_request.go.tpl
      sdk_read_many_pre_build_request:
        template_path: hooks/elastic_ip_address/sdk_read_many_pre_build_request.go.tpl
      sdk_read_many_post_build_request:
        template_path: hooks/elastic_ip_address/sdk_read_many_post_build_request.go.tpl
      sdk_file_end:
        template_path: hooks/elastic_ip_address/sdk_file_end.go.tpl
    update_operation:
      custom_method_name: customUpdateElasticIP
  FlowLog:
    exceptions:
      terminal_codes:
      - InvalidParameter
      - InvalidParameterValue
    fields:
      ResourceID:
        type: string
        is_required: true
      FlowLogID:
        type: string
        is_read_only: true
        is_primary_key: true
      Tags:
        from:
          operation: CreateTags
          path: Tags
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/flow_log/sdk_create_post_build_request.go.tpl
      sdk_create_post_set_output:
        template_path: hooks/flow_log/sdk_create_post_set_output.go.tpl
      sdk_delete_post_build_request:
        template_path: hooks/flow_log/sdk_delete_post_build_request.go.tpl
      sdk_read_many_pre_build_request:
        template_path: hooks/flow_log/sdk_read_many_pre_build_request.go.tpl
      sdk_read_many_post_build_request:
        template_path: hooks/flow_log/sdk_read_many_post_build_request.go.tpl
      sdk_file_end:
        template_path: hooks/flow_log/sdk_file_end.go.tpl
      post_set_resource_identifiers:
        template_path: hooks/flow_log/post_set_resource_identifiers.go.tpl
      post_populate_resource_from_annotation:
        template_path: hooks/flow_log/post_populate_resource_from_annotation.go.tpl
    update_operation:
      custom_method_name: customUpdateFlowLog
  InternetGateway:
    fields:
      Tags:
        from:
          operation: CreateTags
          path: Tags
      VPC:
        from:
          operation: AttachInternetGateway
          path: VpcId
        references:
          resource: VPC
          path: Status.VPCID
      RouteTables:
        custom_field:
          list_of: String
        references:
          resource: RouteTable
          path: Status.RouteTableID
      InternetGatewayID:
        print:
          path: Status.internetGatewayID
          name: ID
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/internet_gateway/sdk_create_post_build_request.go.tpl
      sdk_create_post_set_output:
        template_path: hooks/internet_gateway/sdk_create_post_set_output.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/internet_gateway/sdk_read_many_post_set_output.go.tpl
      sdk_delete_pre_build_request:
        template_path: hooks/internet_gateway/sdk_delete_pre_build_request.go.tpl
      sdk_file_end:
        template_path: hooks/internet_gateway/sdk_file_end.go.tpl
    update_operation:
      custom_method_name: customUpdateInternetGateway
  LaunchTemplate:
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/launch_template/sdk_create_post_build_request.go.tpl
      sdk_update_pre_build_request:
        template_path: hooks/launch_template/sdk_update_pre_build_request.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/launch_template/sdk_read_many_post_set_output.go.tpl
      sdk_file_end:
        template_path: hooks/launch_template/sdk_file_end.go.tpl
    exceptions:
      errors:
        404:
          code: InvalidLaunchTemplateName.NotFoundException
    renames:
      operations:
        CreateLaunchTemplate:
          input_fields:
            LaunchTemplateName: Name
            LaunchTemplateData: Data
          output_fields:
            LaunchTemplateId: ID
            # Note: maybe we can rename this to just version?
            # thoughts...
            DefaultVersionNumber: DefaultVersion
            LatestVersionNumber: LatestVersion
        CreateLaunchTemplateVersion:
          input_fields:
            LaunchTemplateId: ID
            LaunchTemplateData: Data
          output_fields:
            LaunchTemplateData: Data
            LaunchTemplateId: ID
            VersionNumber: LatestVersion
        DeleteLaunchTemplate:
          input_fields:
            LaunchTemplateId: ID
        DescribeLaunchTemplates:
          input_fields:
            LaunchTemplateIds: ID
          output_fields:
            LatestVersionNumber: LatestVersion
            DefaultVersionNumber: DefaultVersion
    fields:
      ID:
        is_primary_key: true
        print:
          path: Status.ID
          name: ID
      Tags:
        from:
          operation: CreateTags
          path: Tags    
      DefaultVersion:
        from:
          operation: ModifyLaunchTemplate
          path: LaunchTemplate.DefaultVersionNumber
      Data.ElasticInferenceAccelerators.Type:
        go_tag: json:"type,omitempty"
      Data.ElasticGPUSpecifications.Type:
        go_tag: json:"type,omitempty"
  NatGateway:
    exceptions:
      terminal_codes:
      - InvalidSubnet
      - InvalidElasticIpID.Malformed
      - MissingParameter
    fields:
      AllocationId:
        references:
          resource: ElasticIPAddress
          path: Status.AllocationID
      SubnetId:
        references:
          resource: Subnet
          path: Status.SubnetID
      NatGatewayID:
        print:
          path: Status.natGatewayID
          name: ID
      State:
        print:
          path: Status.state
          name: state
      Tags:
        from:
          operation: CreateTags
          path: Tags
    synced:
      when:
      - path: Status.State
        in:
        - available
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/nat_gateway/sdk_create_post_build_request.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/nat_gateway/sdk_read_many_post_set_output.go.tpl
      sdk_file_end:
        template_path: hooks/nat_gateway/sdk_file_end.go.tpl
    update_operation:
      custom_method_name: customUpdateNATGateway
  ManagedPrefixList:
    exceptions:
      terminal_codes:
      - InvalidParameterValue
      - PrefixListMaxEntriesExceeded
    renames:
      operations:
        CreateManagedPrefixList:
          input_fields:
            PrefixListName: Name
          output_fields:
            PrefixListId: ID
        DescribeManagedPrefixLists:
          input_fields:
            PrefixListIds: ID
          output_fields:
            PrefixListId: ID
            PrefixListName: Name
        ModifyManagedPrefixList:
          input_fields:
            PrefixListId: ID
            PrefixListName: Name
          output_fields:
            PrefixListId: ID
        DeleteManagedPrefixList:
          input_fields:
            PrefixListId: ID
    fields:
      ID:
        is_primary_key: true
        is_read_only: true
        print:
          path: Status.ID
          name: ID
      Name: {}
      State:
        is_read_only: true
        print:
          path: Status.State
          name: STATE
      Version:
        is_read_only: true
        print:
          path: Status.Version
          name: VERSION
      PrefixListARN:
        is_arn: true
      Entries:
        custom_field:
          list_of: AddPrefixListEntry
        compare:
          is_ignored: false
      Tags:
        from:
          operation: CreateTags
          path: Tags
    synced:
      when:
      - path: Status.State
        in:
        - create-complete
        - create-failed
        - modify-complete
        - modify-failed
        - restore-complete
        - restore-failed
        - delete-complete
        - delete-failed
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/managed_prefix_list/sdk_create_post_build_request.go.tpl
      sdk_read_many_post_build_request:
        template_path: hooks/managed_prefix_list/sdk_read_many_post_build_request.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/managed_prefix_list/sdk_read_many_post_set_output.go.tpl
    update_operation:
      custom_method_name: customUpdateManagedPrefixList
  RouteTable:
    fields:
      # RouteStatuses as Route to ensure
      # fields set server-side (active, origin)
      # are exposed in Status
      RouteStatuses:
        from:
          operation: DescribeRouteTables
          path: RouteTables.Routes
        is_read_only: true
      # Routes as CreateRouteInput to ensure only
      # user-editable fields are exposed in Spec
      Routes:
        custom_field:
          list_of: CreateRouteInput
        compare:
          is_ignored: true
      RouteTableID:
        print:
          path: Status.RouteTableID
          name: ID
      State:
        print:
          path: Status.state
          name: state
      Tags:
        from:
          operation: CreateTags
          path: Tags
      VpcId:
        references:
          resource: VPC
          path: Status.VPCID
      Routes.GatewayId:
        references:
          resource: InternetGateway
          path: Status.InternetGatewayID
      Routes.NatGatewayId:
        references:
          resource: NATGateway
          path: Status.NATGatewayID
      Routes.TransitGatewayId:
        references:
          resource: TransitGateway
          path: Status.TransitGatewayID
      Routes.VpcEndpointId:
        references:
          resource: VPCEndpoint
          path: Status.VPCEndpointID
      Routes.VPCPeeringConnectionID:
        references:
          resource: VPCPeeringConnection
          path: Status.VPCPeeringConnectionID
    hooks:
      delta_pre_compare:
        code: customPreCompare(delta, a, b)
      sdk_create_post_build_request:
        template_path: hooks/route_table/sdk_create_post_build_request.go.tpl
      sdk_create_post_set_output:
        template_path: hooks/route_table/sdk_create_post_set_output.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/route_table/sdk_read_many_post_set_output.go.tpl
      sdk_file_end:
        template_path: hooks/route_table/sdk_file_end.go.tpl
    update_operation:
      custom_method_name: customUpdateRouteTable
  SecurityGroup:
    fields:
      # support EC2-VPC only
      Id:
        is_primary_key: true
        print:
          path: Status.id
          name: ID
      IngressRules:
        custom_field:
          list_of: IpPermission
      EgressRules:
        custom_field:
          list_of: IpPermission
      Rules:
        from:
          operation: DescribeSecurityGroupRules
          path: SecurityGroupRules
        is_read_only: true
      Tags:
        from:
          operation: CreateTags
          path: Tags
      VpcId:
        is_required: true
        references:
          resource: VPC
          path: Status.VPCID
      IngressRules.UserIDGroupPairs.VPCID:
        references:
          resource: VPC
          path: Status.VPCID
      IngressRules.UserIDGroupPairs.GroupID:
        references:
          resource: SecurityGroup
          path: Status.ID
          skip_resource_state_validations: true
        is_required: false
      EgressRules.UserIDGroupPairs.VPCID:
        references:
          resource: VPC
          path: Status.VPCID
      EgressRules.UserIDGroupPairs.GroupID:
        references:
          resource: SecurityGroup
          path: Status.ID
          skip_resource_state_validations: true
        is_required: false
    renames:
      operations:
        CreateSecurityGroup:
          input_fields:
            GroupName: Name
          output_fields:
            GroupId: Id
        DeleteSecurityGroup:
          input_fields:
            GroupId: Id
            GroupName: Name
        DescribeSecurityGroups:
          input_fields:
            GroupIds: Ids
            GroupNames: Names
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/security_group/sdk_create_post_build_request.go.tpl
      sdk_file_end:
        template_path: hooks/security_group/sdk_file_end.go.tpl
      sdk_create_post_set_output:
        template_path: hooks/security_group/sdk_create_post_set_output.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/security_group/sdk_read_many_post_set_output.go.tpl
      sdk_delete_pre_build_request:
        template_path: hooks/security_group/sdk_delete_pre_build_request.go.tpl
      sdk_read_many_pre_build_request:
        template_path: hooks/security_group/sdk_read_many_pre_build_request.go.tpl
    update_operation:
      custom_method_name: customUpdateSecurityGroup
  NetworkAcl:
    fields:
      # support EC2-VPC only
      Id:
        is_primary_key: true
        print:
          path: Status.Id
          name: ID
      Associations:
        custom_field:
          list_of: NetworkAclAssociation
      Entries:
        custom_field:
          list_of: NetworkAclEntry
      Tags:
        from:
          operation: CreateTags
          path: Tags
      VpcId:
        is_required: true
        references:
          resource: VPC
          path: Status.VPCID
      Associations.SubnetID:
        references:
          resource: Subnet
          path: Status.SubnetID
    renames:
      operations:
        CreateNetworkAcl:
          output_fields:
            NetworkAclId: Id
        DeleteNetworkAcl:
          input_fields:
            NetworkAclId: Id
        DescribeNetworkAcls:
          input_fields:
            NetworkAclIds: Ids
        CreateNetworkAclEntry:
          input_fields:
            NetworkAclId: Id
        ReplaceNetworkAclEntry:
          input_fields:
            NetworkAclId: Id    
    hooks:
      delta_pre_compare:
        code: customPreCompare(delta, a, b)
      sdk_create_post_build_request:
        template_path: hooks/network_acl/sdk_create_post_build_request.go.tpl
      sdk_file_end:
        template_path: hooks/network_acl/sdk_file_end.go.tpl
      sdk_create_post_set_output:
        template_path: hooks/network_acl/sdk_create_post_set_output.go.tpl
      sdk_delete_pre_build_request:
        template_path: hooks/network_acl/sdk_delete_pre_build_request.go.tpl
    update_operation:
      custom_method_name: customUpdateNetworkAcl
  Subnet:
    fields:
      # code-generator infers fields into
      # Status based on whether or not the fields
      # can be edited in the Create input shape.
      # However, these fields can now be edited after
      # after implementing custom hook code; therefore,
      # relocate fields from Status to Spec.
      AssignIpv6AddressOnCreation:
        type: bool
      CustomerOwnedIpv4Pool:
        type: string
      EnableDns64:
        type: bool
      EnableResourceNameDnsARecord:
        type: bool
      EnableResourceNameDnsAAAARecord:
        type: bool
      HostnameType:
        type: string
      MapPublicIpOnLaunch:
        type: bool
      RouteTables:
        custom_field:
          list_of: String
        references:
          resource: RouteTable
          path: Status.RouteTableID
      State:
        print:
          path: Status.state
          name: state
      SubnetId:
        print:
          path: Status.subnetID
          name: ID
      Tags:
        from:
          operation: CreateTags
          path: Tags
      VpcId:
        references:
          resource: VPC
          path: Status.VPCID
    exceptions:
      terminal_codes:
        - InvalidParameterValue
        - InvalidCustomerOwnedIpv4PoolID.Malformed
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/subnet/sdk_create_post_build_request.go.tpl
      sdk_create_post_set_output:
        template_path: hooks/subnet/sdk_create_post_set_output.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/subnet/sdk_read_many_post_set_output.go.tpl
      sdk_file_end:
        template_path: hooks/subnet/sdk_file_end.go.tpl
    update_operation:
      custom_method_name: customUpdateSubnet
  TransitGateway:
    fields:
      Tags:
        from:
          operation: CreateTags
          path: Tags
      State:
        print:
          path: Status.state
          name: state
      TransitGatewayID:
        print:
          path: Status.transitGatewayID
          name: ID
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/transit_gateway/sdk_create_post_build_request.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/transit_gateway/sdk_read_many_post_set_output.go.tpl
      sdk_file_end:
        template_path: hooks/transit_gateway/sdk_file_end.go.tpl
    update_operation:
      custom_method_name: customUpdateTransitGateway
  TransitGatewayVpcAttachment:
    renames:
      operations:
        CreateTransitGatewayVpcAttachment:
          output_fields:
            TransitGatewayAttachmentId: ID
        DescribeTransitGatewayVpcAttachments:
          input_fields:
            TransitGatewayAttachmentIds: ID
          output_fields:
            TransitGatewayAttachmentId: ID
        ModifyTransitGatewayVpcAttachment:
          input_fields:
            TransitGatewayAttachmentId: ID
        DeleteTransitGatewayVpcAttachment:
          input_fields:
            TransitGatewayAttachmentId: ID
    fields:
      Tags:
        from:
          operation: CreateTags
          path: Tags
      SubnetIds:
        references:
          resource: Subnet
          path: Status.SubnetID
      VpcId:
        references:
          resource: VPC
          path: Status.VPCID
      TransitGatewayId:
        references:
          resource: TransitGateway
          path: Status.TransitGatewayID
      ID:
        is_primary_key: true
        print:
          path: Status.ID
          name: ID
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/transit_gateway_vpc_attachment/sdk_create_post_build_request.go.tpl
      sdk_update_pre_build_request:
        template_path: hooks/transit_gateway_vpc_attachment/sdk_update_pre_build_request.go.tpl
      sdk_update_post_build_request:
        template_path: hooks/transit_gateway_vpc_attachment/sdk_update_post_build_request.go.tpl
  Vpc:
    update_operation:
      custom_method_name: customUpdateVPC
    exceptions:
      errors:
        404:
          code: InvalidVpcID.NotFound
      terminal_codes:
        - InvalidParameterValue
    fields:
      CIDRBlocks:
        custom_field:
          list_of: String
        is_required: true
      EnableDNSSupport:
        from:
          operation: ModifyVpcAttribute
          path: EnableDnsSupport.Value
      EnableDNSHostnames:
        from:
          operation: ModifyVpcAttribute
          path: EnableDnsHostnames.Value
      State:
        print:
          path: Status.state
          name: state
      Tags:
        from:
          operation: CreateTags
          path: Tags
      VpcID:
        print:
          path: Status.vpcID
          name: ID
      DisallowSecurityGroupDefaultRules:
        type: bool
        is_required: false
      SecurityGroupDefaultRulesExist:
        type: bool
        is_read_only: true
    hooks:
      delta_pre_compare:
          code: customPreCompare(delta, a, b)
      sdk_create_post_build_request:
        template_path: hooks/vpc/sdk_create_post_build_request.go.tpl
      sdk_create_post_set_output:
        template_path: hooks/vpc/sdk_create_post_set_output.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/vpc/sdk_read_many_post_set_output.go.tpl
      sdk_file_end:
        template_path: hooks/vpc/sdk_file_end.go.tpl
  VpcEndpoint:
    fields:
      PolicyDocument:
        late_initialize: {}
      Tags:
        from:
          operation: CreateTags
          path: Tags
      VpcId:
        references:
          resource: VPC
          path: Status.VPCID
      RouteTableIds:
        references:
          resource: RouteTable
          path: Status.RouteTableID
      SecurityGroupIds:
        references:
          resource: SecurityGroup
          path: Status.ID
      State:
        print:
          path: Status.state
          name: state
      SubnetIds:
        references:
          resource: Subnet
          path: Status.SubnetID
      VpcEndpointID:
        print:
          path: Status.vpcEndpointID
          name: ID
      ServiceRegion:
        # ServiceRegion is not supported in ModifyVpcEndpoint's input.
        is_immutable: true
      ServiceNetworkARN:
        # ServiceNetworkARN is not supported in ModifyVpcEndpoint's input.
        is_immutable: true
    exceptions:
      terminal_codes:
        - InvalidVpcId.Malformed
        - InvalidServiceName
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/vpc_endpoint/sdk_create_post_build_request.go.tpl
      sdk_create_post_set_output:
        template_path: hooks/vpc_endpoint/sdk_create_post_set_output.go.tpl
      sdk_delete_post_build_request:
        template_path: hooks/vpc_endpoint/sdk_delete_post_build_request.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/vpc_endpoint/sdk_read_many_post_set_output.go.tpl
      sdk_file_end:
        template_path: hooks/vpc_endpoint/sdk_file_end.go.tpl
    update_operation:
      custom_method_name: customUpdateVPCEndpoint  
  VpcEndpointServiceConfiguration:
    fields:
      AllowedPrincipals:
        from:
          operation: ModifyVpcEndpointServicePermissions
          path: AddAllowedPrincipals
      ServiceID:
        is_primary_key: true
        is_read_only: true
        print:
          path: Status.serviceID
          name: ServiceID
      ServiceState:
        is_read_only: true
        print:
          path: Status.serviceState
          name: ServiceState
      Tags:
        from:
          operation: CreateTags
          path: Tags
    synced:
      when:
      - path: Status.ServiceState
        in:
        - Available
    list_operation:
      match_fields:
        - ServiceId
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/vpc_endpoint_service_configuration/sdk_create_post_build_request.go.tpl
      sdk_create_post_set_output:
        template_path: hooks/vpc_endpoint_service_configuration/sdk_create_post_set_output.go.tpl
      sdk_delete_post_build_request:
        template_path: hooks/vpc_endpoint_service_configuration/sdk_delete_post_build_request.go.tpl
      sdk_file_end:
        template_path: hooks/vpc_endpoint_service_configuration/sdk_file_end.go.tpl
      sdk_update_pre_build_request:
        template_path: hooks/vpc_endpoint_service_configuration/sdk_update_pre_build_request.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/vpc_endpoint_service_configuration/sdk_read_many_post_set_output.go.tpl
      sdk_read_many_post_build_request:
        template_path: hooks/vpc_endpoint_service_configuration/sdk_read_many_post_build_request.go.tpl
  VpcPeeringConnection:
    fields:      
      VpcId:
        references:
          resource: VPC
          path: Status.VPCID
      peerVpcId:
        references:
          resource: VPC
          path: Status.VPCID
      AcceptRequest:
        type: bool
      AccepterPeeringConnectionOptions:
        from:
          operation: ModifyVpcPeeringConnectionOptions
          path: AccepterPeeringConnectionOptions
      RequesterPeeringConnectionOptions:
        from:
          operation: ModifyVpcPeeringConnectionOptions
          path: RequesterPeeringConnectionOptions
      Tags:
        from:
          operation: CreateTags
          path: Tags
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/vpc_peering_connection/sdk_create_post_build_request.go.tpl
      sdk_create_post_set_output:
        template_path: hooks/vpc_peering_connection/sdk_create_post_set_output.go.tpl
      sdk_update_pre_build_request:
        template_path: hooks/vpc_peering_connection/sdk_update_pre_build_request.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/vpc_peering_connection/sdk_read_many_post_set_output.go.tpl
      sdk_file_end:
        template_path: hooks/vpc_peering_connection/sdk_file_end.go.tpl
  Fleet:
    fields:    
      FleetID:
        is_primary_key: true
        is_read_only: true
        is_required: true
        print:
          path: Status.fleetID
          name: ID
      Tags:
        from:
          operation: CreateTags
          path: Tags
      FleetState:
        is_read_only: true
        from:
          operation: DescribeFleets
          path: Fleets.FleetState
      ActivityStatus:
        is_read_only: true
        from:
          operation: DescribeFleets
          path: Fleets.ActivityStatus
      FulfilledCapacity:
        is_read_only: true
        from:
          operation: DescribeFleets
          path: Fleets.FulfilledCapacity
      Type:
        late_initialize:
          skip_incomplete_check: {}
        is_immutable: true
      ReplaceUnhealthyInstances:
        late_initialize:
          skip_incomplete_check: {}
        is_immutable: true
      TerminateInstancesWithExpiration:
        late_initialize:
          skip_incomplete_check: {}
        is_immutable: true
      ExcessCapacityTerminationPolicy:
        late_initialize:
          skip_incomplete_check: {}
      SpotOptions:
        late_initialize:
          skip_incomplete_check: {}
        is_immutable: true
      OnDemandOptions:
        late_initialize:
          skip_incomplete_check: {}
        is_immutable: true
      ValidFrom:
        late_initialize:
          skip_incomplete_check: {}
        is_immutable: true
      ValidUntil:
        late_initialize:
          skip_incomplete_check: {}
        is_immutable: true
      TargetCapacitySpecification.OnDemandTargetCapacity:
        late_initialize:
          skip_incomplete_check: {}
      TargetCapacitySpecification.SpotTargetCapacity:
        late_initialize:
          skip_incomplete_check: {}
    synced:
      when:
      - path: Status.ActivityStatus
        in:
        - fulfilled
      - path: Status.FleetState
        in:
        - active
    exceptions:
      terminal_codes:
      - InvalidParameterValue 
    terminal:
      when:
      - path: Status.FleetState
        in:
        - failed
        - deleted
        - deleted_running
        - deleted_terminating
      when:
      - path: Status.ActivityStatus
        in:
        - error
    hooks:
      sdk_create_post_build_request:
        template_path: hooks/fleet/sdk_create_post_build_request.go.tpl
      sdk_read_many_post_set_output:
        template_path: hooks/fleet/sdk_read_many_post_set_output.go.tpl
      sdk_delete_post_build_request:
        template_path: hooks/fleet/sdk_delete_post_build_request.go.tpl
      sdk_update_pre_build_request:
        template_path: hooks/fleet/sdk_update_pre_build_request.go.tpl
      # sdk_update_post_build_request:
      #   template_path: hooks/fleet/sdk_update_post_build_request.go.tpl
      sdk_update_pre_set_output:
        template_path: hooks/fleet/sdk_update_pre_set_output.go.tpl
      sdk_file_end:
        template_path: hooks/fleet/sdk_file_end.go.tpl